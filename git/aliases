gfs() {
  # fetch, show status, show stash
  git fetch
  git status -s -b -uall
  echo "$(tput setaf 1)$(git --no-pager stash list --format='%gd (%cr): %gs')$(tput sgr 0)"
}
gst() {
  # fetch, show status, show stash
  git status -s -b -uall
  echo "$(tput setaf 1)$(git --no-pager stash list --format='%gd (%cr): %gs')$(tput sgr 0)"
} 
gnb() {
  # make a new branch and switch to it
  git branch $1
  git switch $1
}
gpb() {
  # push the branch to remote
  git push -u origin $(git branch --show-current) "$@"
}
alias gh="git hist"
alias gaac="git add --all; git commit --verbose"
alias gcnv="git commit --verbose --no-verify"
gri() {
  git rebase -i "HEAD~$1"
}
alias gstash="git stash -u"
stash() {
  if [ $# -eq 0 ]
  then
    git stash -u
  elif [ "$1" = "pop" ]
  then
    echo "Should not name stash entry 'pop'. Use the 'pop' alias instead?"
    return
  else
    git stash push -u -m $1
  fi
}
alias pop="git stash pop"